import{s as lt,e as E,t as I,a as N,c as x,b as L,d as D,f as y,g as V,m as w,i as k,h as P,o as ut,n as it}from"../chunks/scheduler.BJbjGTxf.js";import{S as ft,i as pt,t as C,c as mt,a as F,b as dt,d as ht,m as gt,e as vt,g as $t}from"../chunks/index.BR1cEhzg.js";import{e as J}from"../chunks/functions.CX_imUL4.js";import{b as _t,c as bt,d as yt,e as wt,f as kt,l as Et}from"../chunks/messages.CQ0e5Dpd.js";function M(){}function z(e,t){for(const r in t)e[r]=t[r];return e}function nt(e){return e()}function K(){return Object.create(null)}function j(e){e.forEach(nt)}function rt(e){return typeof e=="function"}function xt(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Q(e,t){const r={};t=new Set(t);for(const s in e)t.has(s)||s[0]==="$"||(r[s]=e[s]);return r}function ot(e){e.parentNode.removeChild(e)}function St(e,t,r,s){return e.addEventListener(t,r,s),()=>e.removeEventListener(t,r,s)}function Lt(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function W(e,t){for(const r in t)Lt(e,r,t[r])}let A;function T(e){A=e}function R(){if(!A)throw new Error("Function called outside component initialization");return A}function Pt(){const e=R();return(t,r,{cancelable:s=!1}={})=>{const p=e.$$.callbacks[t];if(p){const h=function(l,v,{bubbles:d=!1,cancelable:u=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(l,d,u,v),i}(t,r,{cancelable:s});return p.slice().forEach(l=>{l.call(e,h)}),!h.defaultPrevented}return!0}}const S=[],Y=[],G=[],Z=[],st=Promise.resolve();let U=!1;function at(){U||(U=!0,st.then(ct))}function X(e){G.push(e)}const B=new Set;let q=0;function ct(){const e=A;do{for(;q<S.length;){const t=S[q];q++,T(t),Mt(t.$$)}for(T(null),S.length=0,q=0;Y.length;)Y.pop()();for(let t=0;t<G.length;t+=1){const r=G[t];B.has(r)||(B.add(r),r())}G.length=0}while(S.length);for(;Z.length;)Z.pop()();U=!1,B.clear(),T(e)}function Mt(e){if(e.fragment!==null){e.update(),j(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(X)}}const Tt=new Set;function At(e,t,r,s,p,h,l,v=[-1]){const d=A;T(e);const u=e.$$={fragment:null,ctx:null,props:h,update:M,not_equal:p,bound:K(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(d?d.$$.context:[])),callbacks:K(),dirty:v,skip_bound:!1,root:t.target||d.$$.root};l&&l(u.root);let i=!1;if(u.ctx=r?r(e,t.props||{},(n,a,...o)=>{const g=o.length?o[0]:a;return u.ctx&&p(u.ctx[n],u.ctx[n]=g)&&(!u.skip_bound&&u.bound[n]&&u.bound[n](g),i&&function(m,b){m.$$.dirty[0]===-1&&(S.push(m),at(),m.$$.dirty.fill(0)),m.$$.dirty[b/31|0]|=1<<b%31}(e,n)),a}):[],u.update(),i=!0,j(u.before_update),u.fragment=!!s&&s(u.ctx),t.target){if(t.hydrate){const n=(_=t.target,Array.from(_.childNodes));u.fragment&&u.fragment.l(n),n.forEach(ot)}else u.fragment&&u.fragment.c();t.intro&&(f=e.$$.fragment)&&f.i&&(Tt.delete(f),f.i(c)),function(n,a,o,g){const{fragment:m,on_mount:b,on_destroy:$,after_update:H}=n.$$;m&&m.m(a,o),g||X(()=>{const O=b.map(nt).filter(rt);$?$.push(...O):j(O),n.$$.on_mount=[]}),H.forEach(X)}(e,t.target,t.anchor,t.customElement),ct()}var f,c,_;T(d)}const Ht=["focus","blur","fullscreenchange","fullscreenerror","scroll","cut","copy","paste","keydown","keypress","keyup","auxclick","click","contextmenu","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseout","mouseup","pointerlockchange","pointerlockerror","select","wheel","drag","dragend","dragenter","dragstart","dragleave","dragover","drop","touchcancel","touchend","touchmove","touchstart","pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave","gotpointercapture","lostpointercapture"];function Ot(e){let t,r,s,p=[{xmlns:"http://www.w3.org/2000/svg"},e[0],e[3]],h={};for(let l=0;l<p.length;l+=1)h=z(h,p[l]);return{c(){var l;l="svg",t=document.createElementNS("http://www.w3.org/2000/svg",l),W(t,h)},m(l,v){var d;(function(u,i,f){u.insertBefore(i,f||null)})(l,t,v),t.innerHTML=e[1],r||(d=e[2].call(null,t),s=d&&rt(d.destroy)?d.destroy:M,r=!0)},p(l,[v]){2&v&&(t.innerHTML=l[1]),W(t,h=function(d,u){const i={},f={},c={$$scope:1};let _=d.length;for(;_--;){const n=d[_],a=u[_];if(a){for(const o in n)o in a||(f[o]=1);for(const o in a)c[o]||(i[o]=a[o],c[o]=1);d[_]=a}else for(const o in n)c[o]=1}for(const n in f)n in i||(i[n]=void 0);return i}(p,[{xmlns:"http://www.w3.org/2000/svg"},1&v&&l[0],8&v&&l[3]]))},i:M,o:M,d(l){l&&ot(t),r=!1,s()}}}function qt(e,t,r){const s=["src","transformSrc"];let p=Q(t,s);const h=Pt(),l=function(n,a=[]){const o=[...Ht,...a];function g(m){(function(b,$){const H=b.$$.callbacks[$.type];H&&H.slice().forEach(O=>O.call(this,$))})(n,m)}return m=>{const b=[];for(let $=0;$<o.length;$++)b.push(St(m,o[$],g));return{destroy:()=>{for(let $=0;$<b.length;$++)b[$]()}}}}(R());let{src:v}=t,{transformSrc:d=n=>n}=t;var u;u=()=>{(function(n){var a;f[n]||(c&&(c=!1,h("unloaded")),f[n]=(a=n,new Promise((o,g)=>{const m=new XMLHttpRequest;m.open("GET",a,!0),m.onload=()=>{if(m.status>=200&&m.status<400)try{let $=new DOMParser().parseFromString(m.responseText,"text/xml").querySelector("svg");$?($=d($),o($)):g(new Error('Loaded file is not valid SVG"'))}catch(b){g(b)}else g(new Error("Error loading SVG"))},m.onerror=g,m.send()}))),f[n].then(async o=>{const g=o.attributes;for(let m=g.length-1;m>=0;m--)r(0,_[g[m].name]=g[m].value,_);r(1,i=o.innerHTML),await(at(),st),c=!0,h("loaded")}).catch(o=>{delete f[n],console.error(o)})})(v)},R().$$.on_mount.push(u);let i,f={},c=!1,_={};return e.$$set=n=>{t=z(z({},t),function(a){const o={};for(const g in a)g[0]!=="$"&&(o[g]=a[g]);return o}(n)),r(3,p=Q(t,s)),"src"in n&&r(4,v=n.src),"transformSrc"in n&&r(5,d=n.transformSrc)},[_,i,l,p,v,d]}class Ct extends class{$destroy(){(function(t,r){const s=t.$$;s.fragment!==null&&(j(s.on_destroy),s.fragment&&s.fragment.d(r),s.on_destroy=s.fragment=null,s.ctx=[])})(this,1),this.$destroy=M}$on(t,r){const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(r),()=>{const p=s.indexOf(r);p!==-1&&s.splice(p,1)}}$set(t){var r;this.$$set&&(r=t,Object.keys(r).length!==0)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),At(this,t,qt,Ot,xt,{src:4,transformSrc:5})}}function tt(e,t,r){const s=e.slice();return s[1]=t[r],s}function et(e){let t,r,s,p,h,l,v=e[1].name+"",d,u;return p=new Ct({props:{src:"$lib/icons/vault.svg"}}),{c(){t=E("input"),r=N(),s=E("label"),dt(p.$$.fragment),h=N(),l=E("p"),d=I(v),this.h()},l(i){t=x(i,"INPUT",{type:!0,id:!0,name:!0,class:!0}),r=V(i),s=x(i,"LABEL",{for:!0,class:!0});var f=L(s);ht(p.$$.fragment,f),h=V(f),l=x(f,"P",{class:!0});var c=L(l);d=D(c,v),c.forEach(y),f.forEach(y),this.h()},h(){w(t,"type","radio"),w(t,"id",e[1].name),w(t,"name","apparatus"),t.value=e[1].name,w(t,"class","svelte-thuv1g"),w(l,"class","svelte-thuv1g"),w(s,"for",e[1].name),w(s,"class","svelte-thuv1g")},m(i,f){k(i,t,f),k(i,r,f),k(i,s,f),gt(p,s,null),P(s,h),P(s,l),P(l,d),u=!0},p:it,i(i){u||(C(p.$$.fragment,i),u=!0)},o(i){F(p.$$.fragment,i),u=!1},d(i){i&&(y(t),y(r),y(s)),vt(p)}}}function Gt(e){let t,r=kt()+"",s,p,h,l,v,d=Et()+"",u,i,f=J(e[0]),c=[];for(let n=0;n<f.length;n+=1)c[n]=et(tt(e,f,n));const _=n=>F(c[n],1,1,()=>{c[n]=null});return{c(){t=E("h1"),s=I(r),p=N(),h=E("div");for(let n=0;n<c.length;n+=1)c[n].c();l=N(),v=E("p"),u=I(d),this.h()},l(n){t=x(n,"H1",{});var a=L(t);s=D(a,r),a.forEach(y),p=V(n),h=x(n,"DIV",{class:!0});var o=L(h);for(let m=0;m<c.length;m+=1)c[m].l(o);o.forEach(y),l=V(n),v=x(n,"P",{});var g=L(v);u=D(g,d),g.forEach(y),this.h()},h(){w(h,"class","apparatus_picker svelte-thuv1g")},m(n,a){k(n,t,a),P(t,s),k(n,p,a),k(n,h,a);for(let o=0;o<c.length;o+=1)c[o]&&c[o].m(h,null);k(n,l,a),k(n,v,a),P(v,u),i=!0},p(n,[a]){if(a&1){f=J(n[0]);let o;for(o=0;o<f.length;o+=1){const g=tt(n,f,o);c[o]?(c[o].p(g,a),C(c[o],1)):(c[o]=et(g),c[o].c(),C(c[o],1),c[o].m(h,null))}for($t(),o=f.length;o<c.length;o+=1)_(o);mt()}},i(n){if(!i){for(let a=0;a<f.length;a+=1)C(c[a]);i=!0}},o(n){c=c.filter(Boolean);for(let a=0;a<c.length;a+=1)F(c[a]);i=!1},d(n){n&&(y(t),y(p),y(h),y(l),y(v)),ut(c,n)}}}function Nt(e,t,r){return[[{name:_t(),icon:"vault.svg"},{name:bt(),icon:"beam.svg"},{name:yt(),icon:"uneven_bars.svg"},{name:wt(),icon:"floor.svg"}]]}class Dt extends ft{constructor(t){super(),pt(this,t,Nt,Gt,lt,{apparatus:0})}get apparatus(){return this.$$.ctx[0]}}export{Dt as component};
